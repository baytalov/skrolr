"use strict";class skrolr{constructor(t,i){switch(this.curPos=0,this.inTransition=!1,this.wasRunning=!0,this.isRunning=!1,skrolr.all.push(this),typeof t){case"object":this.root=t;break;case"string":this.root=document.getElementById(t);break;default:return void console.log("Error: parameter passed must be DOM object or ID of a DOM object")}if(this.root.className="sk",this.numWide=i.numWide,this.moveTime=i.moveTime||500,this.waitTime=i.waitTime||3e3,this.transitionTiming=i.transitionTiming||"ease-in-out",this.scrollBy=i.scrollBy||1,this.numObjs=this.root.children.length,this.parent=document.createElement("div"),this.parent.style.position="relative",this.parent.style.overflow="hidden",void 0!==i.height&&(this.parent.style.height=i.height),void 0!==i.width&&(this.parent.style.width=i.width),void 0!==i.size){let t=i.size.split(" ");this.parent.style.width=t[0],this.parent.style.height=t[1]}if(this.root.parentElement.insertBefore(this.parent,this.root),this.parent.appendChild(this.root),this.autoWidth(),!0===i.arrows){const t=this;let i=document.createElement("div");i.className="sk-arrow sk-left sk-hidden",i.onclick=function(){t.stop().backward()},this.parent.appendChild(i);let n=document.createElement("div");n.className="sk-arrow sk-right sk-hidden",n.onclick=function(){t.stop().forward()},this.parent.appendChild(n),this.parent.addEventListener("mouseover",function(){t.toggleArrows()}),this.parent.addEventListener("mouseout",function(){t.toggleArrows()})}if(!0===i.buttons){let t=document.createElement("div");t.className="sk-button-cont sk-hidden",this.parent.appendChild(t);const i=this;this.parent.addEventListener("mouseover",function(){i.toggleButtons()}),this.parent.addEventListener("mouseout",function(){i.toggleButtons()});for(let n=0;n<this.numObjs;n++){let s=document.createElement("div");s.className="sk-button",s.onclick=function(){i.goto(n)},t.appendChild(s)}}document.hasFocus()&&this.start()}static each(t){for(let i of skrolr.all)t(i)}static pmod(t,i){return(t%i+i)%i}toggleArrows(){return this.parent.children[1].classList.toggle("sk-hidden"),this.parent.children[2].classList.toggle("sk-hidden"),this}toggleButtons(){return this.parent.children[3].classList.toggle("sk-hidden"),this}autoWidth(){const t=this,i=this.root.children;for(let n=0,s=this.numWide.length;n<s;n++)if(this.numWide[n][0]<=this.root.offsetWidth&&(this.root.offsetWidth<this.numWide[n][1]||void 0===this.numWide[n][1]||null===this.numWide[n][1])){for(let s=0,e=i.length;s<e;s++)i[s].style.width=100/t.numWide[n][2]+"%";for(;this.childrenWidth()<this.parent.offsetWidth;)for(let t=0,n=i.length;t<n;t++){let n=i[t].cloneNode(!0);this.root.appendChild(n)}break}return this}childrenWidth(){const t=this.root.children;let i=0;for(let n=0,s=t.length;n<s;n++)i+=t[n].offsetWidth;return i}forward(){return this.goto(this.curPos+this.scrollBy,!0)}backward(){return this.goto(this.curPos-this.scrollBy,!0)}goto(t,i){if(!this.inTransition){!0!==i&&clearInterval(this.interval),t=skrolr.pmod(t,this.numObjs);let n=skrolr.pmod(this.curPos-t,this.numObjs),s=skrolr.pmod(t-this.curPos,this.numObjs);if(n&&s){if(this.inTransition=!0,s<=n){this.curPos=t;const i=skrolr._Array.from(this.root.children).slice(0,s);let n=0;for(let t of i){const i=t;n+=i.offsetWidth;const s=i.cloneNode(!0);this.root.appendChild(s)}this.root.style.transition=this.moveTime+"ms "+this.transitionTiming,this.root.style.left=-1*n+"px";const e=this;setTimeout(function(){e.root.style.transition="0s",e.root.style.left="0";for(let t of i)e.root.removeChild(t)},this.moveTime)}else{this.curPos=t;const i=this,s=skrolr._Array.from(this.root.children).slice(-n);let e=0,o=s.length;for(let t=0;t<o;t++){const n=s[o-t-1];e+=n.offsetWidth;const r=n.cloneNode(!0);this.root.insertBefore(r,i.root.firstChild)}this.root.style.transition="0s",this.root.style.left=-1*e+"px",setTimeout(function(){i.root.style.transition=i.moveTime+"ms "+i.transitionTiming,i.root.style.left="0"},0),setTimeout(function(){for(let t of s)i.root.removeChild(t)},this.moveTime)}const i=this;return setTimeout(function(){i.inTransition=!1},this.moveTime),this}}}start(){this.wasRunning=!0,this.isRunning=!0;const t=this;return clearInterval(this.interval),this.interval=setInterval(function(){t.forward()},this.moveTime+this.waitTime),this}stop(t){return t||(this.wasRunning=!1),this.isRunning=!1,clearInterval(this.interval),this}isVisible(){const t=this.parent.getBoundingClientRect(),i=document.documentElement;return t.bottom>=0&&t.top<=(window.innerHeight||i.clientHeight)&&t.right>=0&&t.left<=(window.innerWidth||i.clientWidth)}}skrolr.all=[],skrolr._Array=class extends Array{static from(t){let i=[];for(let n=0,s=t.length;n<s;n++)i[n]=t[n];return i}},window.onresize=function(){skrolr.each(function(t){t.autoWidth()})},window.addEventListener("focus",function(){skrolr.each(function(t){t.wasRunning&&t.start()})}),window.addEventListener("blur",function(){skrolr.each(function(t){t.stop(!0)})}),window.addEventListener("scroll",function(){skrolr.each(function(t){const i=t.isVisible();!t.isRunning&&t.wasRunning&&i?t.start():t.isRunning&&!i&&t.stop(!0)})});